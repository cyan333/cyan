<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="css/myStyle.css" rel=stylesheet>
      
      <script>
        function getArticle(id) {
            
            $.ajaxSetup({
            scriptCharset: "utf-8", //or "ISO-8859-1"
            contentType: "application/json; charset=utf-8"
            });

            $.getJSON('http://whateverorigin.org/get?url=' + 
                encodeURIComponent('http://fmning.com:8080/projectNing/get_sg?menuId=1') + '&callback=?',
                function (data) {
                    var t = JSON.parse(data.contents);
                    alert(t['error']);
                    console.log("> ", data.contents);

                    //If the expected response is text/plain
                    //$("#viewer").html(data.contents);

                    //If the expected response is JSON
                    //var response = $.parseJSON(data.contents);
            });
           
        }
          
        function post(event) {
           var title = document.getElementById("title").value;
            var content = document.getElementById("content").value;
            
//            var preimage = content.split("<img");
//            var imageindex;
//            var images;
                        
//            for(var i=0; i < preimage.length; i++){
//                var indexofending = preimage[i].indexOf(">");
//                if(indexofending != -1){
//                    
//                    images[imageindex] = preimage.split(">");
//                }
//            }
            
            var imageDivStart = "<div class=\"row\"><div class=\"col-lg-12\">"
            var imageDivEnd = "</div></div>"
            var output = "";
            var imageStartIndex;
            var imageEndIndex = 0;
            var imageindex = 0;
            var image;
            var findimage;
            
            while (imageStartIndex != -1){
                
                imageStartIndex = content.indexOf("<img");
                alert(imageStartIndex);
                if(imageStartIndex == -1){
                    output = output + content;
                    break
                }
                
                findimage = content.substring(imageStartIndex, content.length);
                imageEndIndex = findimage.indexOf("/>");
                
                image = findimage.substring(0, (imageEndIndex+2));
                alert(image);
                output = output + content.substring(0, imageStartIndex) + imageDivStart + image + imageDivEnd;
                alert(output);
                content = findimage.substring(imageEndIndex+2, content.length);
                
//                imageStartIndex = content.indexOf("<img");
//                alert(imageStartIndex);
//                if (imageStartIndex == -1){
//                    break;
//                }
//                
//                outputString = content.substring(imageEndIndex,imageStartIndex);
//                
//                content = content.substring(imageStartIndex, content.length);
//                
//                imageEndIndex = content.indexOf("/>");
//                
//                image = content.substring(0, (imageEndIndex+2));
//                alert(image);
//                content = content.substring(imageEndIndex+1, content.length);
//                
//                outputString = outputString + imageDivStart + image + imageDivEnd;
//                alert(outputString);
            }
            
            
//            var imageStartIndex = content.indexOf("<img");
//            var imageendinex = content.indexOf(">");
//            var image = content.substring(imageStartIndex, (imageendinex+1));
//            for(var i = 0; i < image.length; i++){
                document.getElementById("simulator").innerHTML = title + output; 
//            }
            
            event.preventDefault()
        }

    
      </script>
      
  </head>
  <body>
    <h1>WPI CSA Survival Guide</h1>
    <br>
    <div class="fluid-container">
        <div class="row">
            <div class="col-lg-2 col-md-2">
            
            <div class="list-group scorllabe-list">
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(1)">关于我们</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(2)">写在前面的话</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(3)">编者按</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(4)">常用链接</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(5)">常见缩写</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(6)">第一章 学前准备</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(7)">第二章 学术</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(8)">第三章 生活</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(9)">第四章 工作</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(10)">历代版本前言</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(11)">特别鸣谢</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(12)">2.1 Major 专业介绍</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(13)">2.2 Humanities and Arts 人文与艺术</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(14)">2.7 IQP & MQP</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(15)">2.8 转学分</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(16)">3.1 校园生活</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(17)">3.2 日常生活</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(18)">3.3 居住</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(19)">reserved</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(20)">reserved</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(21)">1.1 签证</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(22)">1.2 机票</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(23)">1.3 行李</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(24)">1.4 随身衣物</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(25)">1.5 日常用品 </button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(26)">1.6 体检</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(27)">1.7 保险</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(28)">1.8 汇款</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(29)">1.9 Meal Plan</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(30)">2.0 说明</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(31)">2.3 Double Major and Minor</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(32)">2.4 Overload</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(33)">2.5 GPA.</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(34)">2.6 Graduation Requirement 毕业要求</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(35)">2.9 Textbooks 教科书</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(36)">2.1.1 Aerospace 航天航空工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(37)">2.1.2 Mechanical Engineering 机械工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(38)">2.1.3 Chemistry 化学</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(39)">2.1.4 Chemical Engineering 化学工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(40)">2.1.5 Computer Science 计算机工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(41)">2.1.6 Physics 物理</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(42)">2.1.7 Mathematical Science 数学</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(43)">2.1.8 Actuarial Mathematics 精算 .</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(44)">2.1.9 Civil Engineering 土木工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(45)">2.1.10 Architectural Engineering 建筑工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(46)">2.1.11 School of Business 商学院</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(47)">2.1.12 Electrical and Computer Engineering 电子和计算机工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(48)">2.1.13 Robotics Engineering 机器人工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(49)">2.1.14 Biology & Biotechnology 生物和生物技术</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(50)">2.1.15 Biomedical Engineering 生物医学工程</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(51)">2.1.16 Bioinformatics and Computational Biology 生物信息处理</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(52)">2.1.17 Premedical Program 医学预科</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(53)">2.1.18 Interactive Media and Game Development 游戏媒体</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(54)">2.1.19 Economics Science 经济.</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(55)">2.1.20 Biochemistry 生物化学</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(56)">2.1.21 International Study 国际学</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(57)">2.1.22 Professional Writing 专业写作</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(58)">2.2.1 HUA Requirements 人文艺术科要求</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(59)">2.2.2 HUA—Modern Language: German</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(60)">2.2.3 HUA—Modern Language: Spanish</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(61)">2.2.4 HUA—Music</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(62)">2.2.5 HUA—Arts</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(63)">2.2.6 HUA—History .</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(64)">2.2.7 HUA—Great Problem Seminar (GPS)</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(65)">2.7.1 Off Campus</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(66)">2.7.2 On Campus</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(67)">2.8.1 Chemistry Placement Test</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(68)">2.8.2 AP转学分</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(69)">2.8.3 SIE暑期学习转学分</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(70)">2.8.4 其他</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(71)">3.1.1 Clubs and Activities</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(72)">3.1.2 SNAP</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(73)">3.1.3 Printer</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(74)">3.2.1 手机</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(75)">3.2.2 银行</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(76)">3.2.3 购物</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(77)">3.2.4 交通</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(78)">3.2.5 考驾照</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(79)">3.2.6 买车</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(80)">3.2.7 就医</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(81)">3.2.8 关于税</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(82)">3.2.9 其他活动</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(83)">3.3.1 校内居住</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(84)">3.3.2 Break Contract</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(85)">3.3.3 校外住宿</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(86)">4.1 校内工作</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(87)">4.2 校外工作</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(88)">4.3 校外工作许可 OPT & CPT</button>
                <button type="button" class="list-group-item list-group-item-action" onclick="getArticle(89)">4.4 Job Search</button>
            </div>
            </div>
            
            <div class="col-lg-5 col-md-5">
            <form>
                <div class="form-group">
                <label for="title">Title</label>
                <textarea id="title" class="form-control" rows="1"><span style="font-weight:bold;font-size:50px;color:grey;">关于我们</span></textarea>
              </div>
  
                
              <div class="form-group">
                <label for="content">Content</label>
                <textarea class="form-control" id="content" rows="30">
                  
                        <img src="gallery-bg.jpg" width="150px" height="150px"/>
                        </div>
                    </div>
                        <div class="col-lg-6">
                        <h1 style = "word-wrap: break-word">dddddddddddddddddddddddddddddddddddddddddddddddddddddd</h1>
                        </div>
                  </textarea>
              </div>
                
                <div class="col-lg-6 ">
                    <button onclick="post(event)" class="btn btn-basic"> &nbsp &nbsp &nbsp Try &nbsp &nbsp &nbsp   </button>
                </div>

                <div class="text-right col-lg-6"> 
                    <button type="submit" class="btn-primary btn">&nbsp&nbsp&nbsp Log in &nbsp&nbsp&nbsp</button>
                </div>
                
            </form>
                
                
            </div>
            
             
            <div class="col-lg-5 col-md-5">
                <div class="cellphone" id="simulator">
                    
                </div>
            </div>
        </div> 
    </div>
 
      
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      
      
      
      
  </body>
</html>